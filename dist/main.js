!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof exports?module.exports=r(require,exports,module):e.gulpWrapUmd=r()}(this,function(){var e,r,t,n,a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var r=e.length/4*3,t=new ArrayBuffer(r);return this.decode(e,t),t},decode:function(e,r){var t=this._keyStr.indexOf(e.charAt(e.length-1)),n=this._keyStr.indexOf(e.charAt(e.length-2)),a=e.length/4*3;64==t&&a--,64==n&&a--;var i,u,d,f,c,o,h,l,y=0,s=0;for(i=r?new Uint8Array(r):new Uint8Array(a),e=e.replace(/[^A-Za-z0-9\+\/=]/g,""),y=0;a>y;y+=3)c=this._keyStr.indexOf(e.charAt(s++)),o=this._keyStr.indexOf(e.charAt(s++)),h=this._keyStr.indexOf(e.charAt(s++)),l=this._keyStr.indexOf(e.charAt(s++)),u=c<<2|o>>4,d=(15&o)<<4|h>>2,f=(3&h)<<6|l,i[y]=u,64!=h&&(i[y+1]=d),64!=l&&(i[y+2]=f);return i}};return t=function(e){var r;return r=e.length,0===r?0:e[r-1]+(t(e.subarray(0,r-1))<<8)},r=function(e){var r,t;return"string"!=typeof e?null:(r=e.replace(/\r?\n/g,""),r=null!=(t=/AAAAB3NzaC1yc2E[A-Za-z0-9+\/=]+/.exec(r))?t[0]:void 0)},n=function(e){var n,i,u,d;return e=r(e),null==e?"Missing header.":(n=a.decode(e),u=t(n.subarray(11,15)),i=15+u,d=t(n.subarray(i,i+4)),i+=4+d,i!==n.length?"Invalid key length.":!0)},e={extract:r,validate:n}});