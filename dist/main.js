!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof exports?module.exports=r(require,exports,module):e.gulpWrapUmd=r()}(this,function(){var e,r,t,n,a,i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var r=e.length/4*3,t=new ArrayBuffer(r);return this.decode(e,t),t},decode:function(e,r){var t=this._keyStr.indexOf(e.charAt(e.length-1)),n=this._keyStr.indexOf(e.charAt(e.length-2)),a=e.length/4*3;64==t&&a--,64==n&&a--;var i,u,c,f,d,y,o,l,s=0,h=0;for(i=r?new Uint8Array(r):new Uint8Array(a),e=e.replace(/[^A-Za-z0-9\+\/=]/g,""),s=0;a>s;s+=3)d=this._keyStr.indexOf(e.charAt(h++)),y=this._keyStr.indexOf(e.charAt(h++)),o=this._keyStr.indexOf(e.charAt(h++)),l=this._keyStr.indexOf(e.charAt(h++)),u=d<<2|y>>4,c=(15&y)<<4|o>>2,f=(3&o)<<6|l,i[s]=u,64!=o&&(i[s+1]=c),64!=l&&(i[s+2]=f);return i}};return n=function(e){var r;return r=e.length,0===r?0:e[r-1]+(n(e.subarray(0,r-1))<<8)},e=function(e){var r;if("string"!=typeof e)return null;if(e=e.replace(/\r?\n/g,""),r=/AAAAB3NzaC1(yc2E|kc3M)[A-Za-z0-9+\/=]+/.exec(e),null==r)return null;switch(e=r[0],r[1]){case"yc2E":return{type:"rsa",key:e};case"kc3M":return{type:"dsa",key:e};default:throw new Error("Unrecognised type.")}},t=function(r){var t;return null!=(t=e(r))?t.key:void 0},a=function(r){var t,a,u,c,f,d;return d=e(r),f=d.type,r=d.key,null==r?"Missing header.":"dsa"===f?!0:(t=i.decode(r),u=n(t.subarray(11,15)),a=15+u,c=n(t.subarray(a,a+4)),a+=4+c,a!==t.length?"Invalid key length.":!0)},r={classify:e,extract:t,validate:a}});